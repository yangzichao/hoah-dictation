<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoicePilot - Voice-to-Text for macOS</title>
    <meta name="description"
        content="Voice-to-text for macOS, focused on fast local/LLM transcription and lightweight UI.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">
    <!-- Placeholder icon -->
</head>

<body>
    <header>
        <nav class="glass-nav">
            <h1 class="logo">VoicePilot</h1>
            <ul>
                <li><a href="#features">Features</a></li>
                <li><a href="https://github.com/yangzichao/VoicePilot" target="_blank">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h2>Speak freely.</h2>
                <p>Voice-to-text for macOS, focused on fast local/LLM transcription and lightweight UI.</p>
                <!-- NOTE: The dmg file is automatically fetched from GitHub Releases -->
                <a href="https://github.com/yangzichao/VoicePilot/releases" id="download-btn"
                    class="cta-button">Download for macOS</a>
                <p id="version-text"
                    style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-muted); opacity: 0.8;">Latest
                    Release</p>
            </div>
        </section>

        <section id="features" class="features">
            <div class="container">
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üéôÔ∏è Multi-language Transcription</h3>
                        <p>Fast capture and transcription with auto language detection, powered by Whisper.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üõ†Ô∏è Customizable Agents</h3>
                        <p>Define your own agents with safe trigger phrases to process your text.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üîí Local-First</h3>
                        <p>Use local AI models for transcription and post-processing. Cloud is opt-in.</p>
                    </div>
                    <div class="feature-card">
                        <h3>‚ö° Lightweight</h3>
                        <p>Trimmed extras. The core flow is simply Voice ‚Üí Transcript.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üí∏ Open Source</h3>
                        <p>Fully open-source with no subscriptions or paywalls.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 VoicePilot. Licensed under GPL v3. <br> <a href="https://github.com/yangzichao/VoicePilot">View
                on GitHub</a></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const repo = 'yangzichao/VoicePilot';
            const btn = document.getElementById('download-btn');
            const versionText = document.getElementById('version-text');

            fetch(`https://api.github.com/repos/${repo}/releases/latest`)
                .then(response => response.json())
                .then(data => {
                    const dmgAsset = data.assets.find(asset => asset.name.endsWith('.dmg'));
                    if (dmgAsset) {
                        btn.href = dmgAsset.browser_download_url;
                        btn.innerText = `Download ${data.tag_name}`;
                        versionText.innerText = `Latest: ${data.tag_name} (${(dmgAsset.size / 1024 / 1024).toFixed(1)} MB)`;
                    }
                })
                .catch(err => console.error('Error fetching release:', err));
        });
    </script>
</body>

</html>